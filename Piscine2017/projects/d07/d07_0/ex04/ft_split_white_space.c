/*_***************************************************************_*\
** _______________________________________________________________ **
** ___/\\\\\\\\\\\\\\\__/\\\\\\\\\\\\\\\__/\\\\\_____/\\\_________ **
** ___\/\\\///////////__\/\\\///////////__\/\\\\\\___\/\\\________ **
** ____\/\\\_____________\/\\\_____________\/\\\/\\\__\/\\\_______ **
** _____\/\\\\\\\\\\\_____\/\\\\\\\\\\\_____\/\\\//\\\_\/\\\______ **
** ______\/\\\///////______\/\\\///////______\/\\\\//\\\\/\\\_____ **
** _______\/\\\_____________\/\\\_____________\/\\\_\//\\\/\\\____ **
** ________\/\\\_____________\/\\\_____________\/\\\__\//\\\\\\___ **
** _________\/\\\_____________\/\\\\\\\\\\\\\\\_\/\\\___\//\\\\\__ **
** __________\///______________\///////////////__\///_____\/////__ **
** _______________________________________________________________ **
\*_***************************************************************_*/

#include <stdlib.h>
#include <stdio.h>

/*_***************************************************************_*/

int		ft_wdlen(char *str)
{
	int		n;
	char	*s;

	n = 0;
	s = str;
	while (*s == ' ' || *s == '\t' 
            || *s == '\n' || *s == '\r')
		s++;
	while (!(*s == ' ' || *s == '\t' 
            || *s == '\n' || *s == '\r' ) 
            && *s != 0)
	{
		n++;
		s++;
		if (*s == ' ' || *s == '\t' 
            || *s == '\n' || *s == '\r' 
            || *s == 0)
			break;
	}
	return (n);
}

/*_***************************************************************_*/

char	*ft_strdup(char *src)
{
	int		len;
	int		i;
	char	*str;
	
	i = 0;
	len = ft_wdlen(src);
	str = (char *) malloc((len + 1) * sizeof(char));
	while (i <= len)
	{
		str[i] = src[i];
		i++;
	}
    str[len] = 0;
	return(str);
}

/*_***************************************************************_*/

int		ft_wdnbr(char *str)
{
	char	*s;
	int		n;

	s = str;
	n = 0;
	while (*s++	 != 0)
	{
		if (!(*s == ' ' || *s == '\t' 
            || *s == '\n' || *s == '\r'))
		{
			while (!(*s == ' ' || *s == '\t' 
                    || *s == '\n' || *s == '\r' 
                    || *s == 0))
			{
				s++;
				if (*s == ' ' || *s == '\t' 
                    || *s == '\n' || *s == '\r'
					|| *s == 0)
					n++;
			}
		}
		else if (*s != 0)
			s++;
	}
	return n;
}


/*_***************************************************************_*/

char	**ft_split_whitespaces(char *str)
{
	int		tb_len,i = 0;
	char	**wdptr;

	tb_len = ft_wdnbr(str) + 1;
	wdptr = (char **)malloc(sizeof(char) * tb_len);
    if (wdptr == NULL)
        return (wdptr);
    else
	    wdptr[tb_len] = 0;
	while (i < tb_len)
	{
		while ((*str == ' ' || *str == '\t' 
                || *str == '\n' || *str == '\r') 
                && *str != 0)
            str++;
        wdptr[i] = ft_strdup(str);
        if (wdptr[i] == NULL)
            return (wdptr);
        str += ft_wdlen(str);
        i++;
    }
	return (wdptr);
}

/*_***************************************************************_*/

int   main(int ac, char **av)
{
	char	**spltd_wd;
    int     i = 0;
	
    if (ac  == 2)
	{
        printf("\nNbr of Wd :%d\n 1st wd len : %d\n ptr : %s\n", ft_wdnbr(av[1]), 
                ft_wdlen(av[1]), av[1]);
		spltd_wd = ft_split_whitespaces(av[1]);
		if (spltd_wd == 0)
            return (0);
        while (*spltd_wd[i])
        {
            printf("\n%s\n",spltd_wd[i]);
            i++;
        }   
        free(spltd_wd);
	}
	return (0);
}
